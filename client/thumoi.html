<div
  id="thuMoiContent"
  style="padding: 30px; font-family: 'Roboto', sans-serif"
>
  <h2 style="font-size: 24px; color: #c62828; margin-bottom: 20px">
    üéì Th∆∞ M·ªùi Tham D·ª± L·ªÖ T·ªët Nghi·ªáp
  </h2>

  <div
    style="
      border: 2px dashed red;
      padding: 15px;
      background-color: #fff0f0;
      color: #b30000;
      font-weight: bold;
      margin-bottom: 25px;
    "
  >
    ‚ö†Ô∏è C·∫£nh b√°o: Vui l√≤ng kh√¥ng s·ª≠ d·ª•ng ·∫£nh nh·∫°y c·∫£m ho·∫∑c vi ph·∫°m ch√≠nh s√°ch.
    N·ªôi dung th∆∞ m·ªùi s·∫Ω ƒë∆∞·ª£c hi·ªÉn th·ªã c√¥ng khai.
  </div>

  <p style="font-size: 16px; line-height: 1.8; margin-bottom: 20px">
    Tr√¢n tr·ªçng k√≠nh m·ªùi
    <strong><span id="studentName">[H·ªç t√™n sinh vi√™n]</span></strong> ƒë·∫øn tham
    d·ª± <strong>L·ªÖ T·ªët Nghi·ªáp nƒÉm 2025</strong> do Tr∆∞·ªùng ƒê·∫°i h·ªçc C√¥ng ngh·ªá
    TP.HCM (HUTECH) t·ªï ch·ª©c.
  </p>

  <ul style="font-size: 16px; margin-left: 20px; margin-bottom: 20px">
    <li><strong>Th·ªùi gian:</strong> 7:30 - 11:30, Ch·ªß Nh·∫≠t, ng√†y 20/07/2025</li>
    <li>
      <strong>ƒê·ªãa ƒëi·ªÉm:</strong> H·ªôi tr∆∞·ªùng A-08.20, Tr∆∞·ªùng HUTECH, 475A ƒêi·ªán
      Bi√™n Ph·ªß, Q.B√¨nh Th·∫°nh, TP.HCM
    </li>
  </ul>

  <p style="font-size: 16px">
    Vui l√≤ng m·∫∑c trang ph·ª•c nghi√™m t√∫c v√† ƒë·∫øn ƒë√∫ng gi·ªù ƒë·ªÉ bu·ªïi l·ªÖ di·ªÖn ra trang
    tr·ªçng.
  </p>

  <!-- Ch·ªçn ·∫£nh + L∆∞u -->
  <div style="margin-top: 30px; text-align: center">
    <input type="file" accept="image/*" id="avatarInput" />
    <button
      id="saveAvatarBtn"
      style="
        margin-left: 10px;
        padding: 6px 16px;
        background-color: #0d6efd;
        color: #fff;
        border: none;
        border-radius: 6px;
        cursor: pointer;
      "
    >
      L∆∞u ·∫£nh
    </button>
    <br />
    <img
      id="previewAvatar"
      src=""
      alt="·∫¢nh th∆∞ m·ªùi"
      style="
        margin-top: 20px;
        max-width: 300px;
        border-radius: 12px;
        display: none;
      "
    />
  </div>
</div>

<script>
  // G√°n t√™n sinh vi√™n
  setTimeout(() => {
    const data = localStorage.getItem("studentInfo");
    if (data) {
      try {
        const student = JSON.parse(data);
        const nameSpan = document.getElementById("studentName");
        if (student?.fullname && nameSpan) {
          nameSpan.textContent = student.fullname;

          // N·∫øu c√≥ ·∫£nh c≈©
          if (student.avatar) {
            const preview = document.getElementById("previewAvatar");
            preview.src = student.avatar;
            preview.style.display = "block";
          }
        }
      } catch (e) {
        console.error("L·ªói ƒë·ªçc studentInfo:", e);
      }
    }
  }, 100);

  // Preview v√† L∆∞u ·∫£nh
  setTimeout(() => {
    const input = document.getElementById("avatarInput");
    const preview = document.getElementById("previewAvatar");
    const saveBtn = document.getElementById("saveAvatarBtn");

    let tempImage = "";

    input.addEventListener("change", function () {
      const file = input.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = function (e) {
          tempImage = e.target.result;
          preview.src = tempImage;
          preview.style.display = "block";
        };
        reader.readAsDataURL(file);
      }
    });

    saveBtn.addEventListener("click", function () {
      if (!tempImage) {
        alert("Vui l√≤ng ch·ªçn ·∫£nh tr∆∞·ªõc khi l∆∞u.");
        return;
      }
      const data = localStorage.getItem("studentInfo");
      let student = data ? JSON.parse(data) : {};
      student.avatar = tempImage;
      localStorage.setItem("studentInfo", JSON.stringify(student));
      alert("ƒê√£ l∆∞u ·∫£nh th√†nh c√¥ng!");
    });
  }, 300);
</script>
